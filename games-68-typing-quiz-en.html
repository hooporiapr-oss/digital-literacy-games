<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>Typing + Quiz - Grades 6-8 | Akashic</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:Georgia,serif;background:linear-gradient(135deg,#1e3a5f,#2d5a87);min-height:100vh;color:#fff;display:flex;flex-direction:column;align-items:center;padding:15px}
.header{text-align:center;margin-bottom:15px}
.title{font-size:1.6em;margin-bottom:5px}
.grade{background:rgba(255,255,255,0.2);padding:5px 15px;border-radius:20px;font-size:0.85em;display:inline-block}
.box{background:rgba(255,255,255,0.1);border:2px solid rgba(255,255,255,0.3);border-radius:16px;padding:20px;width:100%;max-width:500px}
.info{display:flex;justify-content:space-around;margin-bottom:15px;text-align:center}
.info-item b{display:block;font-size:1.3em;color:#ffd700}
.info-item span{font-size:0.7em;opacity:0.8}
.passage-box{background:rgba(0,0,0,0.3);border-radius:12px;padding:15px;margin-bottom:15px;line-height:1.8;font-size:1.05em}
.passage-box .word{display:inline}
.passage-box .word.current{background:#ffd700;color:#1e3a5f;padding:2px 4px;border-radius:4px}
.passage-box .word.correct{color:#2ecc71}
.passage-box .word.incorrect{color:#e74c3c;text-decoration:underline}
.input-area{margin-bottom:15px}
.type-input{width:100%;padding:15px;font-size:1.1em;border:3px solid rgba(255,255,255,0.3);border-radius:12px;background:rgba(255,255,255,0.1);color:#fff}
.type-input:focus{outline:none;border-color:#ffd700}
.type-input.correct{border-color:#2ecc71}
.type-input.incorrect{border-color:#e74c3c}
.stats-bar{display:flex;justify-content:space-between;margin-bottom:15px;font-size:0.9em}
.stat{text-align:center}
.stat b{color:#ffd700}
.progress-bar{width:100%;height:8px;background:rgba(255,255,255,0.2);border-radius:4px;margin-bottom:15px;overflow:hidden}
.progress-fill{height:100%;background:linear-gradient(90deg,#2ecc71,#27ae60);transition:width 0.3s}
.btn{width:100%;padding:15px;font-size:1.1em;font-weight:bold;border:none;border-radius:25px;cursor:pointer;margin-top:10px}
.btn-start{background:linear-gradient(135deg,#2ecc71,#27ae60);color:#fff}
.btn-next{background:linear-gradient(135deg,#3498db,#2980b9);color:#fff}
.btn-again{background:linear-gradient(135deg,#ffd700,#ff8c00);color:#1e3a5f}
.btn:active{transform:scale(0.98)}
.quiz-section{margin-top:20px}
.quiz-question{background:rgba(0,0,0,0.3);border-radius:12px;padding:15px;margin-bottom:15px}
.quiz-question h4{color:#ffd700;margin-bottom:10px}
.quiz-option{display:block;width:100%;padding:12px 15px;margin:8px 0;background:rgba(255,255,255,0.1);border:2px solid rgba(255,255,255,0.3);border-radius:10px;color:#fff;cursor:pointer;text-align:left;font-size:0.95em;transition:all 0.2s}
.quiz-option:hover{border-color:#ffd700}
.quiz-option.selected{border-color:#3498db;background:rgba(52,152,219,0.2)}
.quiz-option.correct{border-color:#2ecc71;background:rgba(46,204,113,0.2)}
.quiz-option.wrong{border-color:#e74c3c;background:rgba(231,76,60,0.2)}
.result{text-align:center;padding:20px}
.result h2{color:#ffd700;font-size:1.5em;margin-bottom:10px}
.result .score{font-size:2.5em;color:#ffd700;font-weight:bold}
.result .label{opacity:0.8;margin-bottom:10px}
.result-stats{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin:15px 0}
.result-stat{background:rgba(0,0,0,0.2);padding:10px;border-radius:8px;text-align:center}
.result-stat b{display:block;color:#ffd700;font-size:1.2em}
.result-stat span{font-size:0.8em;opacity:0.8}
.hidden{display:none!important}
.home-link{position:absolute;top:15px;left:15px;color:#fff;text-decoration:none;font-size:0.9em;opacity:0.8}
.topic-badge{background:rgba(52,152,219,0.3);padding:5px 12px;border-radius:15px;font-size:0.8em;display:inline-block;margin-bottom:10px}
</style>
</head>
<body>
<a href="digital-literacy-homepage.html" class="home-link">‚Üê Back</a>

<div class="header">
<div class="title">‚å®Ô∏è Typing + Quiz</div>
<div class="grade">üöÄ Grades 6-8 ‚Ä¢ Ages 11-14</div>
</div>

<div class="box">
<div id="startScreen">
<div class="topic-badge">üîê Digital Safety Topics</div>
<p style="margin-bottom:15px;line-height:1.6">Type passages about internet safety, then answer a quiz question to test your understanding!</p>
<div class="info">
<div class="info-item"><b>5</b><span>Passages</span></div>
<div class="info-item"><b>WPM</b><span>Tracked</span></div>
<div class="info-item"><b>Quiz</b><span>After Each</span></div>
</div>
<button class="btn btn-start" onclick="startGame()">‚ñ∂Ô∏è Start!</button>
</div>

<div id="typeScreen" class="hidden">
<div class="info">
<div class="info-item"><b id="passageNum">1</b><span>Passage</span></div>
<div class="info-item"><b id="wpmDisplay">0</b><span>WPM</span></div>
<div class="info-item"><b id="accuracyDisplay">100%</b><span>Accuracy</span></div>
</div>
<div class="progress-bar"><div class="progress-fill" id="progressBar"></div></div>
<div class="topic-badge" id="topicBadge">üîê Passwords</div>
<div class="passage-box" id="passageBox"></div>
<div class="input-area">
<input type="text" class="type-input" id="typeInput" placeholder="Start typing..." autocomplete="off" autocapitalize="off">
</div>
</div>

<div id="quizScreen" class="hidden">
<div class="quiz-section">
<div class="topic-badge" id="quizTopic">üîê Quiz Time!</div>
<div class="quiz-question">
<h4 id="quizQuestion">Question goes here?</h4>
<button class="quiz-option" onclick="selectOption(0)" id="opt0">Option A</button>
<button class="quiz-option" onclick="selectOption(1)" id="opt1">Option B</button>
<button class="quiz-option" onclick="selectOption(2)" id="opt2">Option C</button>
<button class="quiz-option" onclick="selectOption(3)" id="opt3">Option D</button>
</div>
<button class="btn btn-next hidden" id="nextBtn" onclick="nextPassage()">Next Passage ‚Üí</button>
</div>
</div>

<div id="resultScreen" class="hidden">
<div class="result">
<h2>üéâ Complete!</h2>
<div class="score" id="finalWpm">0</div>
<div class="label">Average WPM</div>
<div class="result-stats">
<div class="result-stat"><b id="finalAccuracy">0%</b><span>Accuracy</span></div>
<div class="result-stat"><b id="finalQuiz">0/5</b><span>Quiz Score</span></div>
</div>
<button class="btn btn-again" onclick="startGame()">üîÑ Play Again!</button>
</div>
</div>
</div>

<script>
var passages = [
    {
        topic: "üîê Passwords",
        text: "A strong password should be at least twelve characters long. Use a mix of uppercase letters, lowercase letters, numbers, and symbols. Never use your name or birthday.",
        question: "What makes a password strong?",
        options: ["Using your name", "Being short and simple", "Using 12+ characters with mixed types", "Using only numbers"],
        correct: 2
    },
    {
        topic: "üé£ Phishing",
        text: "Phishing emails try to trick you into giving away personal information. They often look like real messages from banks or companies. Always check the sender's email address carefully.",
        question: "What is phishing?",
        options: ["A type of fishing sport", "Emails that trick you into sharing info", "A computer virus", "A social media app"],
        correct: 1
    },
    {
        topic: "üîí Two-Factor Authentication",
        text: "Two-factor authentication adds an extra layer of security. After entering your password, you also need a code sent to your phone. This makes it much harder for hackers to access your accounts.",
        question: "What does two-factor authentication do?",
        options: ["Makes passwords shorter", "Adds extra security with a phone code", "Removes the need for passwords", "Speeds up login"],
        correct: 1
    },
    {
        topic: "üì∂ Public Wi-Fi",
        text: "Public Wi-Fi networks can be dangerous. Hackers can see what you do on these networks. Never enter passwords or banking information when using public Wi-Fi without a VPN.",
        question: "Why is public Wi-Fi risky?",
        options: ["It's too slow", "Hackers can see your activity", "It costs money", "It doesn't work on phones"],
        correct: 1
    },
    {
        topic: "ü¶† Malware",
        text: "Malware is software designed to harm your computer. It can steal your data or damage your files. Only download software from trusted sources and keep your antivirus updated.",
        question: "What is malware?",
        options: ["Helpful software", "Software that harms your computer", "A type of hardware", "An email service"],
        correct: 1
    }
];

var currentPassage = 0;
var words = [];
var currentWordIndex = 0;
var correctWords = 0;
var totalTyped = 0;
var startTime = 0;
var wpmScores = [];
var accuracyScores = [];
var quizScore = 0;

function $(id) { return document.getElementById(id); }

function show(id) {
    $('startScreen').classList.add('hidden');
    $('typeScreen').classList.add('hidden');
    $('quizScreen').classList.add('hidden');
    $('resultScreen').classList.add('hidden');
    $(id).classList.remove('hidden');
}

function startGame() {
    currentPassage = 0;
    wpmScores = [];
    accuracyScores = [];
    quizScore = 0;
    show('typeScreen');
    loadPassage();
}

function loadPassage() {
    var p = passages[currentPassage];
    $('passageNum').textContent = currentPassage + 1;
    $('topicBadge').textContent = p.topic;
    
    words = p.text.split(' ');
    currentWordIndex = 0;
    correctWords = 0;
    totalTyped = 0;
    
    renderPassage();
    $('typeInput').value = '';
    $('typeInput').focus();
    $('typeInput').className = 'type-input';
    $('wpmDisplay').textContent = '0';
    $('accuracyDisplay').textContent = '100%';
    $('progressBar').style.width = '0%';
    
    startTime = Date.now();
}

function renderPassage() {
    var html = '';
    words.forEach(function(word, i) {
        var cls = 'word';
        if (i < currentWordIndex) cls += ' correct';
        if (i === currentWordIndex) cls += ' current';
        html += '<span class="' + cls + '">' + word + '</span> ';
    });
    $('passageBox').innerHTML = html;
}

$('typeInput').addEventListener('input', function(e) {
    var typed = e.target.value;
    var currentWord = words[currentWordIndex];
    
    // Check if space pressed (word complete)
    if (typed.endsWith(' ')) {
        var typedWord = typed.trim();
        totalTyped++;
        
        if (typedWord === currentWord) {
            correctWords++;
            e.target.className = 'type-input correct';
        } else {
            e.target.className = 'type-input incorrect';
        }
        
        currentWordIndex++;
        e.target.value = '';
        
        // Update stats
        var elapsed = (Date.now() - startTime) / 1000 / 60; // minutes
        var wpm = Math.round(correctWords / elapsed) || 0;
        var accuracy = totalTyped > 0 ? Math.round((correctWords / totalTyped) * 100) : 100;
        
        $('wpmDisplay').textContent = wpm;
        $('accuracyDisplay').textContent = accuracy + '%';
        $('progressBar').style.width = ((currentWordIndex / words.length) * 100) + '%';
        
        renderPassage();
        
        // Check if passage complete
        if (currentWordIndex >= words.length) {
            wpmScores.push(wpm);
            accuracyScores.push(accuracy);
            showQuiz();
        }
        
        setTimeout(function() { e.target.className = 'type-input'; }, 200);
    } else {
        // Live feedback
        if (currentWord.startsWith(typed)) {
            e.target.className = 'type-input';
        } else {
            e.target.className = 'type-input incorrect';
        }
    }
});

function showQuiz() {
    show('quizScreen');
    var p = passages[currentPassage];
    $('quizTopic').textContent = p.topic + ' Quiz';
    $('quizQuestion').textContent = p.question;
    
    p.options.forEach(function(opt, i) {
        $('opt' + i).textContent = opt;
        $('opt' + i).className = 'quiz-option';
        $('opt' + i).disabled = false;
    });
    
    $('nextBtn').classList.add('hidden');
}

function selectOption(idx) {
    var p = passages[currentPassage];
    
    // Disable all options
    for (var i = 0; i < 4; i++) {
        $('opt' + i).disabled = true;
        if (i === p.correct) {
            $('opt' + i).classList.add('correct');
        } else if (i === idx && idx !== p.correct) {
            $('opt' + i).classList.add('wrong');
        }
    }
    
    if (idx === p.correct) {
        quizScore++;
    }
    
    $('nextBtn').classList.remove('hidden');
    
    if (currentPassage >= passages.length - 1) {
        $('nextBtn').textContent = 'See Results ‚Üí';
    }
}

function nextPassage() {
    currentPassage++;
    
    if (currentPassage >= passages.length) {
        showResults();
    } else {
        show('typeScreen');
        loadPassage();
    }
}

function showResults() {
    show('resultScreen');
    
    var avgWpm = Math.round(wpmScores.reduce(function(a,b) { return a+b; }, 0) / wpmScores.length);
    var avgAccuracy = Math.round(accuracyScores.reduce(function(a,b) { return a+b; }, 0) / accuracyScores.length);
    
    $('finalWpm').textContent = avgWpm;
    $('finalAccuracy').textContent = avgAccuracy + '%';
    $('finalQuiz').textContent = quizScore + '/' + passages.length;
}
</script>
</body>
</html>
