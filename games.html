<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Games | Akashic Academy</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:Georgia,serif;background:#0a0a1a;color:#fff;min-height:100vh;padding-top:60px}

/* Sticky Language Toggle Bar */
.lang-bar{position:fixed;top:0;left:0;right:0;z-index:1000;background:rgba(10,10,26,0.95);backdrop-filter:blur(10px);padding:10px 20px;display:flex;justify-content:center;align-items:center;border-bottom:2px solid rgba(255,215,0,0.3)}
.lang-toggle{display:flex;gap:5px;background:rgba(0,0,0,0.4);border-radius:25px;padding:4px;border:2px solid rgba(255,215,0,0.4)}
.lang-btn{padding:8px 16px;border:none;border-radius:20px;cursor:pointer;font-weight:bold;font-size:0.85em;transition:all 0.2s;background:transparent;color:#fff}
.lang-btn.active{background:#ffd700;color:#1a1a2e}
.lang-btn:hover:not(.active){background:rgba(255,255,255,0.1)}

/* Language Switching - Hide/Show */
.en .lang-es{display:none!important}
.es .lang-en{display:none!important}

.header{background:linear-gradient(135deg,#1a1a2e,#16213e);padding:20px;text-align:center;border-bottom:3px solid #ffd700;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}
.header h1{color:#ffd700;font-size:1.8em;flex:1;text-align:center}
.student-info{display:flex;gap:15px;align-items:center}
.student-name{background:rgba(255,215,0,0.2);padding:10px 20px;border-radius:20px;font-weight:bold}
.btn-logout{background:#e74c3c;color:#fff;border:none;padding:10px 20px;border-radius:20px;cursor:pointer;font-weight:bold;transition:all 0.2s}
.btn-logout:hover{background:#c0392b;transform:translateY(-2px)}

.main{max-width:1200px;margin:0 auto;padding:40px 20px}
.welcome{text-align:center;margin-bottom:40px}
.welcome h2{font-size:2em;color:#ffd700;margin-bottom:10px}
.welcome p{opacity:0.8;font-size:1.1em}

.games-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px}
.game-card{background:linear-gradient(135deg,rgba(255,255,255,0.1),rgba(255,255,255,0.05));border:2px solid rgba(255,255,255,0.2);border-radius:16px;padding:25px;text-align:center;transition:all 0.3s;cursor:pointer}
.game-card:hover{transform:translateY(-5px);border-color:#ffd700;box-shadow:0 10px 30px rgba(255,215,0,0.3)}
.game-icon{font-size:3em;margin-bottom:15px}
.game-name{font-size:1.3em;font-weight:bold;color:#ffd700;margin-bottom:8px}
.game-grade{font-size:0.9em;opacity:0.7;margin-bottom:8px}
.game-desc{font-size:0.95em;opacity:0.8;margin-bottom:15px;min-height:40px}
.btn-play{background:linear-gradient(135deg,#ffd700,#ff8c00);color:#1a1a2e;border:none;padding:12px 30px;border-radius:25px;font-weight:bold;font-size:1em;cursor:pointer;transition:all 0.2s;width:100%}
.btn-play:hover{transform:scale(1.05)}

.loading{text-align:center;padding:100px 20px}
.loading h2{color:#ffd700;margin-bottom:20px}

.no-access{text-align:center;padding:100px 20px}
.no-access h2{color:#e74c3c;margin-bottom:20px}
.no-access p{margin-bottom:30px;opacity:0.8}
.btn-setup{background:#ffd700;color:#1a1a2e;padding:15px 40px;border-radius:30px;text-decoration:none;font-weight:bold;display:inline-block;transition:all 0.2s}
.btn-setup:hover{transform:translateY(-3px);box-shadow:0 10px 20px rgba(255,215,0,0.3)}

@media(max-width:700px){
  body{padding-top:55px}
  .header{flex-direction:column;gap:15px}
  .header h1{font-size:1.5em}
  .student-info{flex-direction:column;width:100%}
  .games-grid{grid-template-columns:1fr}
}
</style>
</head>
<body class="en">

<!-- Sticky Language Bar -->
<div class="lang-bar">
<div class="lang-toggle">
<button class="lang-btn active" id="btnEn" onclick="setLang('en')">üá∫üá∏ English</button>
<button class="lang-btn" id="btnEs" onclick="setLang('es')">üáµüá∑ Espa√±ol</button>
</div>
</div>

<header class="header">
<div style="flex:1"></div>
<h1>
<span class="lang-en">üéÆ My Games</span>
<span class="lang-es">üéÆ Mis Juegos</span>
</h1>
<div class="student-info">
<span class="student-name" id="studentName">üë§ Student</span>
<button class="btn-logout" onclick="logout()">
<span class="lang-en">Logout</span>
<span class="lang-es">Salir</span>
</button>
</div>
</header>

<main class="main">

<div id="loading" class="loading">
<h2>
<span class="lang-en">Loading your games...</span>
<span class="lang-es">Cargando tus juegos...</span>
</h2>
<p>‚è≥</p>
</div>

<div id="mainContent" style="display:none">
<div class="welcome">
<h2>
<span class="lang-en">Welcome Back! üéâ</span>
<span class="lang-es">¬°Bienvenido de Nuevo! üéâ</span>
</h2>
<p>
<span class="lang-en">All 24 games are unlocked and ready to play! Game badges show difficulty levels - start with basics or challenge yourself with advanced games.</span>
<span class="lang-es">¬°Los 24 juegos est√°n desbloqueados y listos para jugar! Las insignias muestran niveles de dificultad - comienza con lo b√°sico o desaf√≠ate con juegos avanzados.</span>
</p>
</div>

<div id="gamesGrid" class="games-grid"></div>
</div>

<div id="noAccess" class="no-access" style="display:none">
<h2>‚ö†Ô∏è <span class="lang-en">No Access</span><span class="lang-es">Sin Acceso</span></h2>
<p>
<span class="lang-en">You need to join a class to play games.</span>
<span class="lang-es">Necesitas unirte a una clase para jugar juegos.</span>
</p>
<a href="student-setup.html" class="btn-setup">
<span class="lang-en">Join a Class</span>
<span class="lang-es">Unirse a una Clase</span>
</a>
</div>

</main>

<script>
const API_URL = 'https://digital-literacy-backend.onrender.com/api';

const GAMES = [
  // K-2 Games (Beginner)
  {id:'visual-memory-k2',name:'Visual Memory',nameEs:'Memoria Visual',icon:'üëÄ',grade:'K-2',gradeEs:'K-2',desc:'Remember the squares',descEs:'Recuerda los cuadrados',url:'games-k2-visual-memory'},
  {id:'sequence-memory-k2',name:'Sequence Memory',nameEs:'Memoria de Secuencia',icon:'üî¢',grade:'K-2',gradeEs:'K-2',desc:'Follow the pattern',descEs:'Sigue el patr√≥n',url:'games-k2-sequence-memory'},
  {id:'color-match-k2',name:'Color Match',nameEs:'Emparejar Colores',icon:'üé®',grade:'K-2',gradeEs:'K-2',desc:'Match the colors',descEs:'Empareja colores',url:'games-k2-color-match'},
  {id:'memory-match-k2',name:'Memory Match',nameEs:'Juego de Memoria',icon:'üÉè',grade:'K-2',gradeEs:'K-2',desc:'Find matching pairs',descEs:'Encuentra pares',url:'games-k2-memory-match'},
  {id:'reaction-time-k2',name:'Reaction Time',nameEs:'Tiempo de Reacci√≥n',icon:'‚ö°',grade:'K-2',gradeEs:'K-2',desc:'Click when ready',descEs:'Haz clic cuando listo',url:'games-k2-reaction-time'},
  {id:'reflex-training-k2',name:'Reflex Training',nameEs:'Entrenamiento Reflejos',icon:'üéØ',grade:'K-2',gradeEs:'K-2',desc:'Click the targets',descEs:'Haz clic objetivos',url:'games-k2-reflex-training'},
  
  // 3-5 Games (Intermediate)
  {id:'number-memory-35',name:'Number Memory',nameEs:'Memoria de N√∫meros',icon:'üî¢',grade:'3-5',gradeEs:'3-5',desc:'Remember numbers',descEs:'Recuerda n√∫meros',url:'games-35-number-memory'},
  {id:'visual-memory-35',name:'Visual Memory',nameEs:'Memoria Visual',icon:'üëÅÔ∏è',grade:'3-5',gradeEs:'3-5',desc:'Advanced memory test',descEs:'Memoria avanzada',url:'games-35-visual-memory'},
  {id:'word-search-35',name:'Word Search',nameEs:'Sopa de Letras',icon:'üîç',grade:'3-5',gradeEs:'3-5',desc:'Find hidden words',descEs:'Encuentra palabras',url:'games-35-word-search'},
  {id:'sequence-memory-35',name:'Sequence Memory',nameEs:'Memoria Secuencia',icon:'üî≤',grade:'3-5',gradeEs:'3-5',desc:'Advanced patterns',descEs:'Patrones avanzados',url:'games-35-sequence-memory'},
  {id:'memory-match-35',name:'Memory Match',nameEs:'Juego de Memoria',icon:'üÉè',grade:'3-5',gradeEs:'3-5',desc:'More challenging pairs',descEs:'Pares desafiantes',url:'games-35-memory-match'},
  {id:'reaction-time-35',name:'Reaction Time',nameEs:'Tiempo de Reacci√≥n',icon:'‚ö°',grade:'3-5',gradeEs:'3-5',desc:'Faster reactions',descEs:'Reacciones r√°pidas',url:'games-35-reaction-time'},
  
  // 6-8 Games (Advanced)
  {id:'typing-quiz-68',name:'Typing Quiz',nameEs:'Prueba de Tecleo',icon:'‚å®Ô∏è',grade:'6-8',gradeEs:'6-8',desc:'Test typing skills',descEs:'Prueba tu tecleo',url:'games-68-typing-quiz'},
  {id:'word-search-68',name:'Word Search Pro',nameEs:'Sopa Letras Pro',icon:'üîç',grade:'6-8',gradeEs:'6-8',desc:'Advanced word search',descEs:'Sopa avanzada',url:'games-68-word-search'},
  {id:'number-memory-68',name:'Number Memory Pro',nameEs:'Memoria N√∫meros Pro',icon:'üßÆ',grade:'6-8',gradeEs:'6-8',desc:'Advanced numbers',descEs:'N√∫meros avanzados',url:'games-68-number-memory'},
  {id:'visual-memory-68',name:'Visual Memory Pro',nameEs:'Memoria Visual Pro',icon:'üëÅÔ∏è',grade:'6-8',gradeEs:'6-8',desc:'Expert memory test',descEs:'Memoria experta',url:'games-68-visual-memory'},
  {id:'sequence-memory-68',name
